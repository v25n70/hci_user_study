<html>
<head>

	<title>Ticket Management System</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<style>
	.footer {
		position: fixed;
		left: 0px;
		bottom: 0px;
		width: 100%;
		padding-top: 10px;
		padding-bottom: 40px;
	}
	.container {
		width: 80%;
		margin: auto;
	}
	button span {
		padding-right: 10px;
	}
</style>

</head>
<body>
<form method="POST" action="/ticket/message/add" id="form">
	<div class="container">
		<br>
		<div class="w3-row">
			<div class="w3-col s8">
				<h1>Add Message</h1>
			</div>
			<div class="w3-col s4">
				<br>
				Welcome, John! ðŸ‘‹
			</div>
		</div>

		<br>
		<input type="hidden" name="ticket_id" value="$ticket_id$">
		<table class="w3-table">
			<tr>
				<td>Title</td>
				<td>
					<input class="w3-input w3-border" type="text" autocomplete="off" name="title">
				</td>
			</tr>
			<tr>
				<td>Details</td>
				<td>
					<input class="w3-input w3-border" type="text" autocomplete="off" name="details">
				</td>
			</tr>
		</table>

	</div>

	<div class="footer">
		<div class="container">
			<div class="w3-row">
				<div class="w3-col s3">
					<button class="w3-button w3-blue" onclick="submit()" type="submit">
						<span>Ctrl 1</span>
						Submit
					</button>
				</div>
				<div class="w3-col s3">
					<button class="w3-button w3-red" onclick="cancel();">
						<span>Ctrl 2</span>
						Cancel
					</button>
				</div>
				<div class="w3-col s3">
					<br>
				</div>
				<div class="w3-col s3">
					<button class="w3-button w3-green" onclick="home()">
						<span>ESC</span>
						Home
					</button>
				</div>
			</div>
		</div>
	</div>

</form>
<script src="https://unpkg.com/hotkeys-js/dist/hotkeys.min.js"></script>
<script>

function goto_url(url) {
	const minDelay = 30;
	const maxDelay = 90;
	const randomDelay = Math.floor(Math.random() * (maxDelay - minDelay + 1)) + minDelay;
	setTimeout(() => {
		window.location = url;
	}, randomDelay);
}

function submit() {
	document.getElementById("form").submit();
}

function cancel() {
	goto_url("/ticket/view?id=$return_ticket_id$");
}

function home() {
	goto_url("/");
}

hotkeys('ctrl+1,ctrl+2,escape', function(event, handler) {
	switch (handler.key) {
		case 'ctrl+1':
		{
			submit();
			break;
		}
		case 'ctrl+2':
		{
			cancel();
			break;
		}
		case 'escape': {
			home();
			break;
		}
	}
});

</script>

</body>
</html>